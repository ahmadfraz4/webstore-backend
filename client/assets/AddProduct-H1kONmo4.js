import{r as o,m as N,u as y,j as e,J as v,B as c,f as P,s as b}from"./index-OK8-cvro.js";import{L as u,a as C,G as k}from"./index-mtqM0PcY.js";function q(S){let[h,l]=o.useState(!1);N();let[t,d]=o.useState({name:"",description:"",price:0,stock:1,category:""}),{user:x}=y(s=>s.User),[p,m]=o.useState("");async function g(s){s.preventDefault(),l(!0);let r=c.loading("Adding Product ..."),a=new FormData;a.append("user",x._id),a.append("name",t.name),a.append("description",t.description),a.append("price",t.price),a.append("stock",t.stock),a.append("category",t.category);for(let n=0;n<p.length;n++)a.append("images",p[n]);f(a).then(n=>{c.success("Product added successfully"),d({name:"",price:"",stock:"",description:"",category:""}),m("")}).catch(n=>{c.error(n.toString()),console.log(n)}).finally(()=>{l(!1),c.dismiss(r)})}let f=async s=>{try{let r={"Content-type":"multipart/form-data"},{data:a}=await P.post(`${b}/products/new`,s,r);return a}catch(r){console.log(r)}};function i(s){d({...t,[s.target.name]:s.target.value})}function j(s){m(s.target.files)}return e.jsx("section",{className:"shipping-",children:e.jsx("div",{className:"shipping-box col-12 d-flex flex-column",children:e.jsxs("form",{encType:"multipart/form-data",className:"shippingInfo card col-md-6 col-sm-10 col-12 pt-4 pb-5 px-3 align-self-center mt-4",onSubmit:g,children:[e.jsx("h3",{className:"text-center",children:"Add Product"}),e.jsxs("section",{className:"mt-2 shipping-form",children:[e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("span",{children:"Product Name"})," ",e.jsx(v,{className:"shipping-form-icon"})]}),e.jsx("input",{type:"text",required:!0,name:"name",placeholder:"e.g samsung",onChange:s=>i(s),value:t.name,className:"form-control "})]}),e.jsxs("section",{className:"mt-2 shipping-form",children:[e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("span",{children:"Category"})," ",e.jsx(u,{})]}),e.jsx("input",{type:"text",name:"category",required:!0,placeholder:"e.g mobiles",onChange:s=>i(s),value:t.category,className:"form-control "})]}),e.jsxs("section",{className:"mt-3 shipping-form",children:[e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("span",{children:"Price"})," ",e.jsx(C,{className:"shipping-form-icon"})]}),e.jsx("input",{type:"number",required:!0,name:"price",placeholder:"123-456-7890",onChange:s=>i(s),value:t.price,className:"form-control"})]}),e.jsxs("section",{className:"mt-3 shipping-form",children:[e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("span",{children:"Stock"})," ",e.jsx(k,{className:"shipping-form-icon"})]}),e.jsx("input",{type:"number",required:!0,name:"stock",placeholder:"stock",onChange:s=>i(s),value:t.stock,className:"form-control"})]}),e.jsxs("section",{className:"mt-2 shipping-form",children:[e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("span",{children:"Description"})," ",e.jsx(u,{})]}),e.jsx("input",{type:"text",required:!0,name:"description",placeholder:"This is ... ",onChange:s=>i(s),value:t.description,className:"form-control "})]}),e.jsx("input",{type:"file",className:"mt-3",onChange:j,multiple:!0}),e.jsx("div",{className:"mt-3",children:e.jsx("button",{type:"submit",disabled:h,className:"button-19 py-2 w-75 my-3",children:"Add Product"})})]})})})}export{q as default};
