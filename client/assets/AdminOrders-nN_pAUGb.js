import{k as m,m as u,u as a,r as f,B as i,$ as x,a0 as h,j as r,L as p,x as g,Q as j,a1 as N}from"./index-OK8-cvro.js";import{R as O}from"./index-zm6RgzF9.js";import{D}from"./DataGrid-pi9RjSZJ.js";import"./TextField-yTSx48pM.js";function w(){m();let s=u();a(e=>e.User);let{orders:d,loading:o,error:S}=a(e=>e.allOrders),t=a(e=>e.OrderTools);f.useEffect(()=>{let e;t.loading&&i.loading("Deleting Order..."),t.error&&(i.dismiss(e),i.error(t.error.toString())),t.isDeleted&&(i.dismiss(e),i.success("Order Deleted"),s({type:x})),s(h())},[t.error,s,t.isDeleted]);function n(e){window.confirm("Do you want to delete the order")&&s(N(e))}const c=[{field:"id",headerName:"order_id",minWidth:250,flex:1},{field:"status",headerName:"Status",minWidth:250,flex:.3,editable:!0,renderCell:e=>r.jsx("div",{style:{color:e.value==="Processing"?"red":"green"},children:e.value})},{field:"Qty",headerName:"Quantity",editable:!0,minWidth:100,flex:.3},{field:"amount",headerName:"Amount",type:"number",minWidth:140,flex:.3,editable:!0},{field:"action",headerName:"Action",minWidth:140,sortable:!1,flex:.3,editable:!0,renderCell:e=>r.jsxs("div",{className:"d-flex",children:[r.jsx(g,{className:"me-4",to:`/admin/order/edit/${e.id}`,children:r.jsx(j,{className:"product-edit-option m-0 fs-5"})}),r.jsx("div",{className:"ms-1",onClick:()=>n(e.id),children:r.jsx(O,{className:"product-delete-option fs-5"})})]}),cellClassName:"d-flex justify-content-center"}],l=[];return d&&d.forEach(e=>{l.push({id:e._id,status:e.orderStatus,Qty:e.OrderedItem.length,amount:e.totalPrice})}),o?r.jsx(p,{}):r.jsx("div",{className:"px-3",children:r.jsx(D,{rows:l,columns:c,initialState:{pagination:{paginationModel:{pageSize:5}}},pageSizeOptions:[5],checkboxSelection:!0,disableRowSelectionOnClick:!0})})}export{w as default};
