import{r as d,k as u,m as p,u as o,B as i,a4 as x,a5 as h,j as r,L as g,a6 as N}from"./index-OK8-cvro.js";import{R as U}from"./index-zm6RgzF9.js";import{D as j}from"./DataGrid-pi9RjSZJ.js";import"./TextField-yTSx48pM.js";function k(){const l=d.useRef(null);u();let a=p(),{users:t}=o(e=>e.allUsers),s=o(e=>e.delUser),{orders:D,loading:c,error:R}=o(e=>e.myOrders);console.log(t),d.useEffect(()=>{s.loading&&(l.current=i.loading("Removing user...")),s.error&&(i.dismiss(l.current),i.error(s.error.toString())),s.isDeleted&&(i.dismiss(l.current),i.success("User deleted"),a({type:x})),a(h())},[a,s.loading,s.error,s.isDeleted]);const m=[{field:"id",headerName:"User_id",minWidth:250,flex:1},{field:"name",headerName:"Name",minWidth:250,flex:.3,editable:!0},{field:"email",headerName:"Email",editable:!0,minWidth:100,flex:.9},{field:"action",headerName:"Action",minWidth:140,sortable:!1,flex:.3,editable:!0,renderCell:e=>r.jsx("div",{className:"d-flex",children:r.jsx("div",{className:"ms-4",onClick:()=>f(e.id),children:r.jsx(U,{className:"product-delete-option fs-5"})})}),cellClassName:"d-flex justify-content-center"}];function f(e){window.confirm("Do You want to remove this user...")&&a(N(e))}const n=[];return t&&t.forEach(e=>{n.push({id:e._id,name:e.name,email:e.email})}),c&&!t?r.jsx(g,{}):r.jsx("div",{className:"px-3",children:r.jsx(j,{rows:n,columns:m,initialState:{pagination:{paginationModel:{pageSize:5}}},pageSizeOptions:[5],checkboxSelection:!0,disableRowSelectionOnClick:!0})})}export{k as default};
