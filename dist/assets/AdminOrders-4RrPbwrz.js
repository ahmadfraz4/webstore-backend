import{dk as u,dm as m,dd as s,r as f,dn as d,dP as h,dQ as x,j as r,dr as p,dF as g,dG as j,dH as N,du as O,dR as D}from"./index-AJXhc-b3.js";function v(){u();let i=m();s(e=>e.User);let{orders:a,loading:o,error:S}=s(e=>e.allOrders),t=s(e=>e.OrderTools);f.useEffect(()=>{let e;t.loading&&d.loading("Deleting Order..."),t.error&&(d.dismiss(e),d.error(t.error.toString())),t.isDeleted&&(d.dismiss(e),d.success("Order Deleted"),i({type:h})),i(x())},[t.error,i,t.isDeleted]);function n(e){window.confirm("Do you want to delete the order")&&i(D(e))}const c=[{field:"id",headerName:"order_id",minWidth:250,flex:1},{field:"status",headerName:"Status",minWidth:250,flex:.3,editable:!0,renderCell:e=>r.jsx("div",{style:{color:e.value==="Processing"?"red":"green"},children:e.value})},{field:"Qty",headerName:"Quantity",editable:!0,minWidth:100,flex:.3},{field:"amount",headerName:"Amount",type:"number",minWidth:140,flex:.3,editable:!0},{field:"action",headerName:"Action",minWidth:140,sortable:!1,flex:.3,editable:!0,renderCell:e=>r.jsxs("div",{className:"d-flex",children:[r.jsx(j,{className:"me-4",to:`/admin/order/edit/${e.id}`,children:r.jsx(N,{className:"product-edit-option m-0 fs-5"})}),r.jsx("div",{className:"ms-1",onClick:()=>n(e.id),children:r.jsx(O,{className:"product-delete-option fs-5"})})]}),cellClassName:"d-flex justify-content-center"}],l=[];return a&&a.forEach(e=>{l.push({id:e._id,status:e.orderStatus,Qty:e.OrderedItem.length,amount:e.totalPrice})}),o?r.jsx(p,{}):r.jsx("div",{className:"px-3",children:r.jsx(g,{rows:l,columns:c,initialState:{pagination:{paginationModel:{pageSize:5}}},pageSizeOptions:[5],checkboxSelection:!0,disableRowSelectionOnClick:!0})})}export{v as default};
