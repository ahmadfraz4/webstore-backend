import{di as u,dl as m,dj as s,r as f,dm as d,dR as h,dS as x,j as t,dq as p,dH as g,dI as j,dJ as N,dt as O,dT as S}from"./index-IuHDVHko.js";function v(){u();let i=m();s(e=>e.User);let{orders:a,loading:o,error:D}=s(e=>e.allOrders),r=s(e=>e.OrderTools);f.useEffect(()=>{let e;r.loading&&d.loading("Deleting Order..."),r.error&&(d.dismiss(e),d.error(r.error.toString())),r.isDeleted&&(d.dismiss(e),d.success("Order Deleted"),i({type:h})),i(x())},[r.error,i,r.isDeleted]);function n(e){window.confirm("Do you want to delete the order")&&i(S(e))}const c=[{field:"id",headerName:"order_id",minWidth:250,flex:1},{field:"status",headerName:"Status",minWidth:250,flex:.3,editable:!0,renderCell:e=>t.jsx("div",{style:{color:e.value==="Processing"?"red":"green"},children:e.value})},{field:"Qty",headerName:"Quantity",editable:!0,minWidth:100,flex:.3},{field:"amount",headerName:"Amount",type:"number",minWidth:140,flex:.3,editable:!0},{field:"action",headerName:"Action",minWidth:140,sortable:!1,flex:.3,editable:!0,renderCell:e=>t.jsxs("div",{className:"d-flex",children:[t.jsx(j,{className:"me-4",to:`/admin/order/edit/${e.id}`,children:t.jsx(N,{className:"product-edit-option m-0 fs-5"})}),t.jsx("div",{className:"ms-1",onClick:()=>n(e.id),children:t.jsx(O,{className:"product-delete-option fs-5"})})]}),cellClassName:"d-flex justify-content-center"}],l=[];return a&&a.forEach(e=>{l.push({id:e._id,status:e.orderStatus,Qty:e.OrderedItem.length,amount:e.totalPrice})}),o?t.jsx(p,{}):t.jsx("div",{className:"px-3",children:t.jsx(g,{rows:l,columns:c,initialState:{pagination:{paginationModel:{pageSize:5}}},pageSizeOptions:[5],checkboxSelection:!0,disableRowSelectionOnClick:!0})})}export{v as default};
